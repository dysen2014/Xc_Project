package com.dysen.type.ms;import android.app.Dialog;import android.content.Intent;import android.os.Bundle;import android.view.KeyEvent;import android.view.View;import android.widget.TextView;import com.dysen.load.UserDemo;import com.dysen.qj.wMeter.R;import com.dysen.myUtil.MyActivityTools;/** *  * 邮箱: dysen@outlook.com | dy.sen@qq.com *  * 作者: 沈迪 [ sendy ] *  * 日期: 2015-8-25 下午5:20:36 *  * 描述: 抄表系统 *  */public class MeterSysActivity extends MyActivityTools {	Integer loginId;	String userName;	@Override	protected void onCreate(Bundle savedInstanceState) {		// TODO Auto-generated method stub		super.onCreate(savedInstanceState);		setContentView(R.layout.activity_1_ms);		boolean bl = FlymeSetStatusBarLightMode(getWindow(), true);//		ToastDemo.myHint(this,   "bl:"+bl);		boolean b =MIUISetStatusBarLightMode(getWindow(), true);//		ToastDemo.myHint(this,   "b:"+b);		((TextView) this.findViewById(R.id.tv_hint)).setText("潜江抄表系统");		// 把该 Activity 添加到 activity列表里 方便退出时一下子退出所有activity//		 	QuitAllActivity.getInstance().addActivity(this);		 				getData();	}	/**	 *	dysen	 *	2015-8-22 上午10:18:21	 *	info:	返回到上个Activity	 */	public void myBack(View v){		myResult(loginId, userName, true);		finish();	}		/**	 *	dysensen	 *	2015-8-25 下午19:29:48	 *	info: 获取数据	 */	private void getData() {				loginId = UserDemo.loginId;//				getIntent().getExtras().getInt("login_id");		userName = UserDemo.userName;//				getIntent().getExtras().getString("user_name");	}	/**	 * 数据上传	 * @param v	 */	public void dataUpdate(View v) {		startActivity(new Intent(this, UpdateActivity.class));	}	boolean isConnSuccess;	/**	 * 表册	 * @param v	 */	public void meterList(View v) {		startActivity(new Intent(this, BookActivity.class));	}	/**	 *	dysen	 *	2015-8-27 下午3:14:25	*	info: 网关配置	*/	public void btnGateWayconfig(View v) {	}		private Dialog mAlert;	Integer statusId;	Intent it;	Integer statu;	void myResult(Integer loginId, String userName, boolean isSuccessLogin){				//数据是使用Intent返回        Intent intent = new Intent();        //把返回数据存入Intent        intent.putExtra("login_id", loginId);        intent.putExtra("user_name", userName);        intent.putExtra("flag_login", isSuccessLogin);        //设置返回数据        this.setResult(2, intent);        //关闭Activity        this.finish();}		@Override	public boolean onKeyDown(int keyCode, KeyEvent event) {		if (keyCode == KeyEvent.KEYCODE_BACK) {			myResult(loginId, userName, true);// 返回数据			finish();		}		return false;	}}